<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
</head>
<body>
    <div class="containe"></div>

    <script>
        async function test(){
 
            const menus = [
                {id : 1, menu:'치킨', price: 2000},
                {id : 2, menu:'마라탕', price: 1000},
                {id : 3, menu:'돈까스', price: 4000},
                {id : 4, menu:'샐러드', price: 2000}
            ];

            function sleep(time){
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        resolve();
                    }, time);
                });
            }

            function trs(data){
                return  `
                    <tr>
                        <th scope = "row">${data.id}</th>
                        <td>${data.menu}</td>
                        <td>${data.price}</td>
                    </tr>
                `;
            }

            sleep(1000);
            document.querySelector('body').style.backgroundColor = 'blue';
            sleep(1000);
            document.querySelector('body').style.backgroundColor = 'white';
            sleep(1000);

            const trTag = (data, index) => `
                <tr>
                    <th scope = "row">${index}</th>
                    <td>${data.menu}</td>
                    <td>${data.price}</td>
                </tr>
            `;

            const makingTable = (menus) =>{
                const menuHTML = menus.reduce((acc, cur) => {
                    acc += trTag(cur, index + 1);
                    return acc;
                }, "");

                return `
                    <table calss="table table-striped">
                        <thead>
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">메뉴</th>
                                <th scope="col">가격</th>
                                </tr>
                                </thead>
                                <tbody>
                                    ${menuHTML}
                                </tbody>
                                </table>
                `;
            };

            document.querySelector(".container").insertAdjacentHTML("beforeend", makingTable(menus));
        }
        
    </script>
</body>
</html>